%!PS-Adobe-3.0
%%Creator: groff version 1.19.1
%%CreationDate: Tue Oct  5 01:45:41 2010
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.19 1
%%Pages: 4
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0
ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF 122.742(ECE466:Compilers Unit)69.336 60 R(3/pg 1)
2.25 E(\2512008 Jef)126.405 E 2.25(fH)-.225 G(akner)-2.25 E/F1 13
/Times-Bold@0 SF(Err)208.023 120 Q(ors and W)-.234 E(ar)-.845 E(nings)
-.195 E/F2 13/Times-Roman@0 SF .09
(Errors may arise during the compiler')33.336 156 R 3.34(sa)-.715 G .09
(nalysis of the input program because the program)-3.34 F 2.048
(is incorrect.)33.336 171 R 4.128 -1.04(We d)8.548 H 2.048
(istinguish between)1.04 F F1 2.048(fatal err)5.298 F(ors)-.234 E F2
5.298(,i)C 5.298(nw)-5.298 G 2.048(hich the compiler is unable to)-5.298
F .707(ascertain the meaning of a piece of the program and will therefo\
re be unable to generate)33.336 186 R .547(code for it, and)33.336 201 R
F1(war)3.797 E(nings)-.195 E F2 3.797(,w)C .547
(here the compiler notices something which may be an error)-3.797 F(,)
-.52 E -.26(bu)33.336 216 S 3.25(ts).26 G(till has a meaningful w)-3.25
E(ay of continuing.)-.13 E 1.964(Errors and w)33.336 237 R 1.964
(arnings may arise from an)-.13 F 5.214(yo)-.195 G 5.214(ft)-5.214 G
1.964(he analysis stages.)-5.214 F(Le)8.464 E 1.964(xical and syntactic)
-.195 F -.13(fa)33.336 252 S .503(tal errors will be caught by le).13 F
-.195(xe)-.195 G .504(rs and parsers generated by tools, such as le).195
F 3.754(xa)-.195 G .504(nd yacc.)-3.754 F .398(Consider the simple e)
33.336 267 R .398
(xpression syntax which has been used repeatedly as an e)-.195 F 3.648
(xample. If)-.195 F 1.029(the input sequence is)33.336 282 R/F3 13
/Courier@0 SF 8.829(a//b)4.279 G F2 1.03(there is no v)-4.55 F 1.03
(alid deri)-.325 F -.325(va)-.325 G 1.03
(tion corresponding to the input,).325 F
(and therefore the parser must halt.)33.336 297 Q 2.005(Semantic errors\
 are caught by the code which the compiler writer adds as part of the)
33.336 318 R .132(semantic analysis phase.)33.336 333 R .132(As an e)
6.632 F .132(xample, consider the e)-.195 F(xpression)-.195 E F3
(\(b+a\)=c)3.383 E F2 6.633(.A)C .133(lthough it)-6.633 F .537
(is syntactically v)33.336 348 R .537(alid, it is a f)-.325 F .537
(atal semantic error)-.13 F 3.786(,b)-.52 G .536
(ecause there is no meaningful w)-3.786 F .536(ay that)-.13 F .922
(the compiler can generate code to assign to)33.336 363 R F3(\(b+a\))
4.172 E F2 7.422(.\()C .922(I.e. \(b+a\) is not a lv)-7.422 F 4.173
(alue\). On)-.325 F(the)4.173 E 2.325
(other hand, assigning a pointer to an inte)33.336 378 R 2.325
(ger is a w)-.195 F 2.325(arning; the compiler can generate)-.13 F 1.47
(meaningful and correct code, b)33.336 393 R 1.47
(ut there is a possibility that the programmer has written)-.26 F
(the wrong thing.)33.336 408 Q F1(Err)181.835 438 Q
(or Reporting and Reco)-.234 E -.13(ve)-.13 G(ry).13 E F2 .516
(It is important to gi)33.336 474 R .906 -.195(ve t)-.325 H .515
(he programmer good information about what the error or w).195 F(arning)
-.13 E 1.077(is and where in the program to go about \214nding it.)
33.336 489 R 1.077(At the v)7.577 F 1.077
(ery least, the \214le name and)-.195 F .819(line number at or near the\
 location of the detection of the error should be reported.)33.336 504 R
(The)7.319 E(error/w)33.336 519 Q
(arning message should be clear and speci\214c.)-.13 E(Gi)33.336 540 Q
.288(ving the e)-.325 F .289
(xact location of an error can be problematic.)-.195 F 3.539(Ag)6.789 G
-2.795 -.325(iv e)-3.539 H 3.539(nl).325 G .289(anguage construct can)
-3.539 F 1.075(span se)33.336 555 R -.195(ve)-.325 G 1.075(ral lines.)
.195 F 1.074(Furthermore, the parser looks ahead to the ne)7.575 F 1.074
(xt tok)-.195 F 1.074(en, so the le)-.13 F -.195(xe)-.195 G(r').195 E(s)
-.715 E(idea of what the current line is may be one of)33.336 570 Q 3.25
(f. E.g.:)-.325 F/F4 10/Courier@0 SF(int i;)33.336 582 Q(char j)33.336
594 Q(//semicolon missing)79.2 E(int k;)33.336 606 Q F2 .375
(The compiler will probably report this error at line 3, e)33.336 621 R
-.195(ve)-.325 G 3.625(nt).195 G .376(hough common sense tells us)-3.625
F(that it is really at line 2.)33.336 636 Q -.195(Fo)33.336 657 S 4.208
(rr).195 G .958(eporting semantic errors, it is a good idea to track wh\
ere things are de\214ned.)-4.208 F(Then,)7.457 E 1.119(e.g., if there i\
s a con\215icting de\214nition, the error message can gi)33.336 672 R
1.51 -.195(ve b)-.325 H 1.12(oth the \214rst and the).195 F
(second places.)33.336 687 Q 1.479(The bison parser generator includes \
optional support for adding a third parse stack.)33.336 708 R(In)7.979 E
1.221(addition to the state stack and the semantic v)33.336 723 R 1.221
(alue stack, a location stack can be used to)-.325 F 1.183(track inform\
ation about the location of terminals and non-terminals in a gi)33.336
738 R -.195(ve)-.325 G 4.433(nr).195 G 4.433(ule. By)-4.433 F 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF 140.742(ECE466:Compilers Unit)33.336 60 R(3/pg 2)
2.25 E(\2512008 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25 E/F1 13
/Times-Roman@0 SF(def)33.336 120 Q 2.098(ault, Bison uses a data struct\
ure which uses line:column pairs, and tracks both the)-.13 F .209
(starting and ending position of a symbol.)33.336 135 R .209
(It includes automatic rules to construct these as)6.709 F 8.555(ar)
33.336 150 S 5.305(esult of each reduction.)-8.555 F 5.305
(Errors can then be reported as start_line:start_col -)11.805 F 4.702
(end_line:end_col. This)33.336 165 R 1.452
(can be especially useful when the compiler is front-ended by a)4.702 F
.05(GUI and the user \214nds it important to see the errored code highl\
ighted on the screen.)33.336 180 R(The)6.551 E
(reader is referred to the Bison documentation for more information.)
33.336 195 Q/F2 13/Times-Bold@0 SF(Err)223.727 225 Q(or Reco)-.234 E
-.13(ve)-.13 G(ry).13 E F1 1.567(When a f)33.336 261 R 1.567
(atal error occurs, e)-.13 F -.195(ve)-.325 G 1.567
(rything from that point onw).195 F 1.567(ard is suspect.)-.13 F 1.567
(One possible)8.067 F 2.528(approach is to simply halt at the \214rst f)
33.336 276 R 2.528(atal error)-.13 F 9.028(.I)-.715 G 5.778(nm)-9.028 G
(an)-5.778 E 5.778(yc)-.195 G 2.528(ases, it is helpful to the)-5.778 F
.617(programmer to see all of the errors which w)33.336 291 R .616
(ould ha)-.13 F 1.006 -.195(ve b)-.26 H .616
(een caught had compilation been).195 F(allo)33.336 306 Q .076
(wed to continue.)-.325 F .076
(In order to do this, the compiler must perform)6.576 F F2(err)3.327 E
.077(or r)-.234 F(eco)-.234 E -.13(ve)-.13 G(ry).13 E F1 .077(to get)
3.327 F(itself back to a state where it can meaningfully process input.)
33.336 321 Q -.195(Fo)33.336 342 S 4.597(rs).195 G 1.347
(emantic errors, reco)-4.597 F -.195(ve)-.195 G 1.347
(ry might be as simple as ignoring the of).195 F 1.346
(fending declaration,)-.325 F -.195(ex)33.336 357 S 1.394
(pression, statement, etc.).195 F -.195(Fo)7.894 G 4.644(rs).195 G 1.394
(yntax errors, the compiler writer needs to code special)-4.644 F 1.766
(error reco)33.336 372 R -.195(ve)-.195 G 1.766(ry into the grammar).195
F 8.265(.I)-.715 G 5.015(ny)-8.265 G 1.765
(acc/bison, one can create a rule with the special)-5.015 F("error" tok)
33.336 387 Q(en:)-.13 E/F3 10/Courier@0 SF(stmt:expr ';')33.336 414 Q
(|IF '\(' expr '\)' stmt ';')51.336 426 Q
(|/*other instances of statement productions */)51.336 438 Q 96(|/* ...)
51.336 450 R(*/)126 E 96(|/* ...)51.336 462 R(*/)126 E 96(|/* ...)51.336
474 R(*/)126 E(|error ';')51.336 486 Q(;)51.336 498 Q F1 .688
(When parser reaches a state in which the lookahead tok)33.336 519 R
.688(en can produce no v)-.13 F .689(alid shifts or)-.325 F .306
(reductions, it starts popping states \(and semantic v)33.336 534 R .306
(alues, and locations, if enabled\) until it)-.325 F 2.161
(reaches a state in which the introduction of the)33.336 549 R/F4 13
/Courier@0 SF(error)5.412 E F1(tok)5.412 E 2.162(en w)-.13 F 2.162
(ould be a v)-.13 F 2.162(alid shift.)-.325 F .142
(Then, if the old lookahead tok)33.336 564 R .141
(en is still no good, the parser consumes and discards tok)-.13 F(ens)
-.13 E(until it \214nds one which leads to a v)33.336 579 Q
(alid shift or reduce.)-.325 E 4.025(When the syntax error happens,)
33.336 600 R F4(yyerror\(\))7.275 E F1 4.025(is called.)7.275 F -1.04
(Ty)10.525 G 4.026(pically this function is)1.04 F .311
(supplied by the compiler writer and outputs the error message.)33.336
615 R .311(Note that yacc/bison pass)6.811 F 4.268(as an ar)33.336 630 R
4.268(gument a def)-.234 F 4.268
(ault message, usually "syntax error", although Bison can be)-.13 F
2.616(instructed to gi)33.336 645 R -.195(ve)-.325 G 5.866(nb).195 G
2.615(etter errors including which tok)-5.866 F 2.615(ens w)-.13 F 2.615
(ould ha)-.13 F 3.005 -.195(ve b)-.26 H 2.615(een acceptable,).195 F
(using the)33.336 660 Q F4(%error-verbose)3.25 E F1(directi)3.25 E -.195
(ve)-.325 G(.).195 E .493(After error reco)33.336 681 R -.195(ve)-.195 G
(ry).195 E 3.743(,p)-.845 G .493(arser will w)-3.743 F .493
(ait until 3 tok)-.13 F .493(ens ha)-.13 F .883 -.195(ve b)-.26 H .493
(een successfully shifted before).195 F .859(calling yyerror ag)33.336
696 R .859(ain \(b)-.065 F .859(ut error reco)-.26 F -.195(ve)-.195 G
.859(ry will be done\).).195 F .859(The macro)7.359 F F4(yyerrorok)4.109
E F1 .859(can be)4.109 F
(placed in an action in an "error" rule to restart error messages.)
33.336 711 Q 4.34(Because semantic v)33.336 732 R 4.341
(alues are discarded during error reco)-.325 F -.195(ve)-.195 G(ry).195
E 7.591(,m)-.845 G 4.341(emory which the)-7.591 F(y)-.195 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF 140.742(ECE466:Compilers Unit)33.336 60 R(3/pg 3)
2.25 E(\2512008 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25 E/F1 13
/Times-Roman@0 SF 4.024(consume can be leak)33.336 120 R 4.024
(ed, depending on the memory allocation method used.)-.13 F(Error)10.524
E(reco)33.336 135 Q -.195(ve)-.195 G .766(ry can also lea).195 F 1.156
-.195(ve t)-.26 H .766(he v).195 F .766
(alue stack in a state where a sensible v)-.325 F .767(alue w)-.325 F
.767(ould normally)-.13 F .129(be e)33.336 150 R .129
(xpected in a certain place, b)-.195 F .128(ut no)-.26 F 3.378(wt)-.325
G .128(hat v)-3.378 F .128(alue is unde\214ned.)-.325 F .128
(The reader should consult)6.628 F 1.587
(the Bison manual for further discussion of these issues, including a w)
33.336 165 R 1.587(ay to associate a)-.13 F
(destructor method with semantic v)33.336 180 Q(alues.)-.325 E .605
(Errors which are detected after the \214rst f)33.336 201 R .605
(atal error are, themselv)-.13 F .605(es, suspect.)-.195 F(Man)7.105 E
3.855(yt)-.195 G(imes,)-3.855 E .64(the compiler')33.336 216 R 3.89(sa)
-.715 G .64(ttempt to reco)-3.89 F -.195(ve)-.195 G 3.891(rf).195 G .641
(rom an error will result in man)-3.891 F 3.891(ym)-.195 G .641
(ore spurious errors.)-3.891 F 1.562(Consider what w)33.336 231 R 1.562
(ould happen if a missing brace caused the compiler to think an entire)
-.13 F(function w)33.336 246 Q(as actually in global scope!)-.13 E/F2 13
/Times-Bold@0 SF(Deb)180.203 276 Q(ugging and W)-.26 E(ar)-.845 E
(ning Le)-.195 E -.13(ve)-.195 G(ls).13 E F1(It')33.336 312 Q 3.648(sag)
-.715 G .398(ood idea to e)-3.648 F .398
(xtend the error reporting mechanism to support internal deb)-.195 F
.399(ugging of)-.26 F 3.487(the compiler)33.336 327 R 6.737(,e)-.52 G
3.487(specially during the de)-6.737 F -.195(ve)-.325 G 3.487
(lopment stage.).195 F 3.486(Some compilers e)9.986 F 3.486(xtend this)
-.195 F 5.103(concept e)33.336 342 R -.195(ve)-.325 G 8.353(nf).195 G
(urther)-8.353 E 8.353(,a)-.52 G(llo)-8.353 E 5.103
(wing command-line \215ags to specify either the le)-.325 F -.195(ve)
-.325 G 8.354(lo).195 G(f)-8.354 E(deb)33.336 357 Q .214(ugging v)-.26 F
(erbosity)-.195 E 3.464(,o)-.845 G 3.464(rt)-3.464 G 3.464(oc)-3.464 G
.214(ontrol deb)-3.464 F .213
(ugging on a subsystem basis, e.g. output deb)-.26 F(ugging)-.26 E
(information about AST construction only)33.336 372 Q(.)-.845 E(Lik)
33.336 393 Q -.325(ew)-.13 G 1.197(ise, sophisticated compilers of).325
F 1.197(fer command-line controls on the le)-.325 F -.195(ve)-.325 G
4.448(lo).195 G 4.448(fw)-4.448 G(arnings)-4.578 E .329(desired, rangin\
g from almost nothing \(the compiler silently ignores potentially dange\
rous)33.336 408 R 6.383(things such as pointer/inte)33.336 423 R 6.383
(ger assignments\) to almost e)-.195 F -.195(ve)-.325 G 6.383
(rything \(e.g. reporting).195 F(unreachable code, possible inte)33.336
438 Q(ger o)-.195 E -.195(ve)-.195 G(r\215o).195 E(ws\).)-.325 E F2
(Memory Allocation Strategies)184.298 468 Q F1 4.185(Ac)33.336 504 S
.935(ompiler is a dif)-4.185 F .935(\214cult problem for ef)-.325 F .935
(\214cient memory allocation.)-.325 F .935(Because it b)7.435 F .935
(uilds and)-.26 F .253(discards man)33.336 519 R 3.503(yt)-.195 G .253
(emporary data structures, such as those to k)-3.503 F .253
(eep track of types, de\214nitions,)-.13 F -.325(va)33.336 534 S .531(l\
ues, etc., optimization of the memory allocation process can be a signi\
\214cant source of).325 F(compile speed impro)33.336 549 Q -.195(ve)
-.195 G(ment.).195 E 1.649(The def)33.336 570 R 1.649
(ault memory allocator)-.13 F(,)-.52 E/F3 13/Courier@0 SF(malloc)4.899 E
F1 4.899(,i)C 4.899(sn)-4.899 G 1.649(ot v)-4.899 F 1.649(ery ef)-.195 F
1.649(\214cient at the allocation of man)-.325 F(y)-.195 E 1.776
(small, v)33.336 585 R 1.775
(ariably-sized objects, either in terms of speed or memory consumption.)
-.325 F(When)8.275 E 2.205(processing scoped languages such as C, the p\
attern of memory allocation and release)33.336 600 R .129
(resembles the ebb and \215o)33.336 615 R 3.379(wo)-.325 G 3.379(fa)
-3.379 G 3.378(stack. During)-.001 F .128
(the analysis of a function, for e)3.378 F .128(xample, the)-.195 F
2.289(compiler consumes a lar)33.336 630 R 2.289
(ge amount of temporary memory tracking types, e)-.234 F(xpressions,)
-.195 E 3.464(statements and intermediate code.)33.336 645 R 3.464
(Since most C compilers w)9.964 F 3.464(ork on a function-by-)-.13 F
1.728(function basis, almost all of that memory gets de-allocated after\
 the function has been)33.336 660 R(processed.)33.336 675 Q 2.169
(This leads to a possible a)33.336 696 R -.195(ve)-.26 G 2.169(nue of e)
.195 F 2.169(xtreme speed impro)-.195 F -.195(ve)-.195 G 5.419
(ment. Rather).195 F 2.169(than taking a)5.419 F 1.078(traditional nest\
ed constructor/destructor approach, we can use a strate)33.336 711 R
1.078(gy which is called)-.195 F F2(ar)33.336 726 Q 1.831
(ena-based memory allocation)-.234 F F1 5.081(,o)C 5.081(r")-5.081 G
5.08(mark/release". W)-5.081 F 5.08(ea)-1.04 G 1.83(ssociate a gro)-5.08
F -.13(wa)-.325 G 1.83(ble pool of).13 F .273
(memory with objects that ha)33.336 741 R .663 -.195(ve t)-.26 H 3.523
(ob).195 G 3.523(ea)-3.523 G .273(llocated when looking at a function.)
-3.523 F 2.353 -1.04(To a)6.773 H .273(llocate an)1.04 F 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Roman@0 SF 140.742(ECE466:Compilers Unit)33.336 60 R(3/pg 4)
2.25 E(\2512008 Jef)144.405 E 2.25(fH)-.225 G(akner)-2.25 E/F1 13
/Times-Roman@0 SF 1.005
(object out of that pool, we simply dole out this memory linearly)33.336
120 R 4.254(,w)-.845 G 1.004(ithout trying to k)-4.254 F(eep)-.13 E .005
(track of which object is which.)33.336 135 R .006
(At the end of the function, the entire pool is released back)6.505 F
4.963(to the operating system, without an)33.336 150 R 8.212(ye)-.195 G
4.962(xplicit \(and potentially nested and costly\))-8.407 F
(destructor/deallocation calls.)33.336 165 Q 4.251 -1.04(We c)33.336 186
T 2.171(an create multiple arenas, e.g. one which is for global declara\
tions and lasts the)1.04 F 1.45(entire lifetime of the compilation proc\
ess, and another which is used on a function-by-)33.336 201 R 1.93
(function basis.)33.336 216 R 1.93(In a typical C compiler)8.43 F 5.18
(,a)-.52 G 1.93(ttempts to e)-5.18 F 1.931(xtend this to a \214ner le)
-.195 F -.195(ve)-.325 G 1.931(l, e.g. a).195 F .089
(separate arena for structures, blocks or prototypes, do not w)33.336
231 R .088(ork out because of the need to)-.13 F(sa)33.336 246 Q .84
-.195(ve s)-.26 H .45(ome information in those scopes be).195 F .451
(yond their le)-.195 F .451(xical end-of-scope mark)-.195 F .451
(er \(e.g. the)-.13 F(closing curly brace\).)33.336 261 Q 1.765
(On modern computer systems, speed ef)33.336 282 R(\214cienc)-.325 E
5.015(yt)-.195 G 1.765(ends to be more important than space)-5.015 F(ef)
33.336 297 Q(\214cienc)-.325 E 5.045(yf)-.195 G 1.795
(or the kinds of problems which compilers tackle.)-5.045 F 1.795
(Rarely does the memory)8.295 F 3.263(consumption of a compiler)33.336
312 R 6.513(,e)-.52 G -.195(ve)-6.838 G 6.513(no).195 G 3.263
(ne which is inef)-6.513 F 3.263(\214ciently coded, be)-.325 F 3.263
(gin to tax the)-.195 F 3.856(resources of the system for most programs\
 of reasonable size and comple)33.336 327 R(xity)-.195 E 10.356(.I)-.845
G(f,)-10.356 E(ho)33.336 342 Q(we)-.325 E -.195(ve)-.325 G 1.825 -.52
(r, t).195 H .785
(he compiler is running not on a general-purpose desktop or serv).52 F
.785(er system, b)-.195 F(ut)-.26 E 1.696(rather in an embedded en)
33.336 357 R 1.696
(vironment, then optimization for memory usage may become)-.52 F -.195
(ve)33.336 372 S .646(ry important.).195 F .646(In these en)7.146 F .645
(vironments, strate)-.52 F .645
(gies such as one-pass compilation, long out)-.195 F(of f)33.336 387 Q
-.26(avo)-.13 G 3.25(rf).26 G
(or general-purpose compilers, may be preferable.)-3.25 E 2.138
(Not all parsers run just once.)33.336 408 R(Man)8.638 E 5.389(yi)-.195
G 2.139(nterpreters run inde\214nitely)-5.389 F 8.639(.C)-.845 G 2.139
(onsider the UNIX)-8.639 F 3.821(command-line "shell" interpreter)33.336
423 R 10.321(.A)-.715 G 3.821
(lso, parsers may be embedded into other long-)-10.321 F .054
(running code, such as a web serv)33.336 438 R .055(er daemon.)-.195 F
.055(In these conte)6.555 F .055(xts, it is important to eliminate)-.195
F .285(all memory leaks, because e)33.336 453 R -.195(ve)-.325 G 3.535
(nw).195 G .284(hen the system has a lar)-3.535 F .284
(ge amount of memory)-.234 F 3.534(,i)-.845 G 3.534(ti)-3.534 G 3.534
(ss)-3.534 G(till)-3.534 E(\214nite, and leaks will e)33.336 468 Q -.195
(ve)-.325 G(ntually lead to f).195 E(ailure.)-.13 E 0 Cg EP
%%Trailer
end
%%EOF
